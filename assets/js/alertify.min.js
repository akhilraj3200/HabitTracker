!function(a){"use strict";function f(e,t){e.className+=" "+t}function m(e,t){for(var n=e.className.split(" "),i=t.split(" "),s=0;s<i.length;s+=1){var o=n.indexOf(i[s]);-1<o&&n.splice(o,1)}e.className=n.join(" ")}function F(){return"rtl"===a.getComputedStyle(document.body).direction}function R(){return document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop}function B(){return document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft}function s(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function h(e){if(null===e)return e;if(Array.isArray(e))for(var t=[],n=0;n<e.length;n+=1)t.push(h(e[n]));else{if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)(t=new RegExp(e.source)).global=e.global,t.ignoreCase=e.ignoreCase,t.multiline=e.multiline,t.lastIndex=e.lastIndex;else{if("object"!=typeof e)return e;for(var i in t={},e)e.hasOwnProperty(i)&&(t[i]=h(e[i]))}}return t}function t(e,t){var n;e.elements&&((n=e.elements.root).parentNode.removeChild(n),delete e.elements,e.settings=h(e.__settings),e.__init=t,delete e.__internal)}function p(n,i){return function(){if(0<arguments.length){for(var e=[],t=0;t<arguments.length;t+=1)e.push(arguments[t]);return e.push(n),i.apply(n,e)}return i.apply(n,[null,n])}}function D(e,t){return{index:e,button:t,cancel:!1}}function r(e,t){if("function"==typeof t.get(e))return t.get(e).call(t)}var n=":not(:disabled):not(.ajs-reset)",o={ENTER:13,ESC:27,F1:112,F12:123,LEFT:37,RIGHT:39,TAB:9},l={autoReset:!0,basic:!1,closable:!0,closableByDimmer:!0,invokeOnCloseOff:!1,frameless:!1,defaultFocusOff:!1,maintainFocus:!0,maximizable:!0,modal:!0,movable:!0,moveBounded:!1,overflow:!0,padding:!0,pinnable:!0,pinned:!0,preventBodyShift:!1,resizable:!0,startMaximized:!1,transition:"pulse",transitionOff:!1,tabbable:["button","[href]","input","select","textarea",'[tabindex]:not([tabindex^="-"])'+n].join(n+","),notifier:{delay:5,position:"bottom-right",closeButton:!1,classes:{base:"alertify-notifier",prefix:"ajs-",message:"ajs-message",top:"ajs-top",right:"ajs-right",bottom:"ajs-bottom",left:"ajs-left",center:"ajs-center",visible:"ajs-visible",hidden:"ajs-hidden",close:"ajs-close"}},glossary:{title:"AlertifyJS",ok:"OK",cancel:"Cancel",acccpt:"Accept",deny:"Deny",confirm:"Confirm",decline:"Decline",close:"Close",maximize:"Maximize",restore:"Restore"},theme:{input:"ajs-input",ok:"ajs-ok",cancel:"ajs-cancel"},hooks:{preinit:function(){},postinit:function(){}}},u=[],U=!1;try{var e=Object.defineProperty({},"passive",{get:function(){U=!0}});a.addEventListener("test",e,e),a.removeEventListener("test",e,e)}catch(e){}var c,d,b,i,X,g,v,Y,G,q,K,J,V,Q,Z,$,ee,te,ne,ie,se,y,oe,ae,le,re,ce,_,k,de,x,H,O,T,w,C,z,E,j,M,N,L=function(e,t,n,i,s){e.addEventListener(t,n,U?{capture:i,passive:s}:!0===i)},A=function(e,t,n,i,s){e.removeEventListener(t,n,U?{capture:i,passive:s}:!0===i)},I=function(){var e,t,n=!1,i={animation:"animationend",OAnimation:"oAnimationEnd oanimationend",msAnimation:"MSAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(void 0!==document.documentElement.style[e]){t=i[e],n=!0;break}return{type:t,supported:n}}(),me=(Y=!(v=[]),G=-1<a.navigator.userAgent.indexOf("Safari")&&a.navigator.userAgent.indexOf("Chrome")<0,q='<div class="ajs-dimmer"></div>',K='<div class="ajs-modal" tabindex="0"></div>',J='<div class="ajs-dialog" tabindex="0"></div>',V='<button class="ajs-reset"></button>',Q='<div class="ajs-commands"><button class="ajs-pin"></button><button class="ajs-maximize"></button><button class="ajs-close"></button></div>',Z='<div class="ajs-header"></div>',$='<div class="ajs-body"></div>',ee='<div class="ajs-content"></div>',te='<div class="ajs-footer"></div>',ne={primary:'<div class="ajs-primary ajs-buttons"></div>',auxiliary:'<div class="ajs-auxiliary ajs-buttons"></div>'},ie='<button class="ajs-button"></button>',se='<div class="ajs-handle"></div>',oe="",_=le=!(y={animationIn:"ajs-in",animationOut:"ajs-out",base:"alertify",basic:"ajs-basic",capture:"ajs-capture",closable:"ajs-closable",fixed:"ajs-fixed",frameless:"ajs-frameless",hidden:"ajs-hidden",maximize:"ajs-maximize",maximized:"ajs-maximized",maximizable:"ajs-maximizable",modeless:"ajs-modeless",movable:"ajs-movable",noSelection:"ajs-no-selection",noOverflow:"ajs-no-overflow",noPadding:"ajs-no-padding",pin:"ajs-pin",pinnable:"ajs-pinnable",prefix:"ajs-",resizable:"ajs-resizable",restore:"ajs-restore",shake:"ajs-shake",unpinned:"ajs-unpinned",noTransition:"ajs-no-transition"}),x=de=ce=re=ae=0,H="pageX",w=!(O="pageY"),z=C=T=k=null,E=Number.Nan,N=M=j=0,{__init:pe,isOpen:function(){return this.__internal.isOpen},isModal:function(){return this.elements.root.className.indexOf(y.modeless)<0},isMaximized:function(){return-1<this.elements.root.className.indexOf(y.maximized)},isPinned:function(){return this.elements.root.className.indexOf(y.unpinned)<0},maximize:function(){return this.isMaximized()||Te(this),this},restore:function(){return this.isMaximized()&&we(this),this},pin:function(){return this.isPinned()||He(this),this},unpin:function(){return this.isPinned()&&Oe(this),this},bringToFront:function(){return ve(0,this),this},moveTo:function(e,t){if(!isNaN(e)&&!isNaN(t)){r("onmove",this);var n=this.elements.dialog,i=n,s=0,o=0;for(n.style.left&&(s-=parseInt(n.style.left,10)),n.style.top&&(o-=parseInt(n.style.top,10));s+=i.offsetLeft,o+=i.offsetTop,i=i.offsetParent;);e=e-s,t=t-o;F()&&(e*=-1),n.style.left=e+"px",n.style.top=t+"px",r("onmoved",this)}return this},resizeTo:function(e,t){var n=parseFloat(e),i=parseFloat(t),s=/(\d*\.\d+|\d+)%/;return isNaN(n)||isNaN(i)||!0!==this.get("resizable")||(r("onresize",this),(""+e).match(s)&&(n=n/100*document.documentElement.clientWidth),(""+t).match(s)&&(i=i/100*document.documentElement.clientHeight),"none"!==(e=this.elements.dialog).style.maxWidth&&(e.style.minWidth=(M=e.offsetWidth)+"px"),e.style.maxWidth="none",e.style.minHeight=this.elements.header.offsetHeight+this.elements.footer.offsetHeight+"px",e.style.width=n+"px",e.style.height=i+"px",r("onresized",this)),this},setting:function(e,t){var i=this,n=_e(this,this.__internal.options,function(e,t,n){ye(i,e,t,n)},e,t);if("get"===n.op)return n.found?n.value:void 0!==this.settings?_e(this,this.settings,this.settingUpdated||function(){},e,t).value:void 0;if("set"===n.op){if(0<n.items.length)for(var s=this.settingUpdated||function(){},o=0;o<n.items.length;o+=1){var a=n.items[o];a.found||void 0===this.settings||_e(this,this.settings,s,a.key,a.value)}return this}},set:function(e,t){return this.setting(e,t),this},get:function(e){return this.setting(e)},setHeader:function(e){return"string"==typeof e?(s(this.elements.header),this.elements.header.innerHTML=e):e instanceof a.HTMLElement&&this.elements.header.firstChild!==e&&(s(this.elements.header),this.elements.header.appendChild(e)),this},setContent:function(e){return"string"==typeof e?(s(this.elements.content),this.elements.content.innerHTML=e):e instanceof a.HTMLElement&&this.elements.content.firstChild!==e&&(s(this.elements.content),this.elements.content.appendChild(e)),this},showModal:function(e){return this.show(!0,e)},show:function(e,t){var n,i,s;return pe(this),this.__internal.isOpen?(Ge(this),Ve(this),f(this.elements.dialog,y.shake),n=this,setTimeout(function(){m(n.elements.dialog,y.shake)},200)):(this.__internal.isOpen=!0,u.push(this),P.defaults.maintainFocus&&(this.__internal.activeElement=document.activeElement),document.body.hasAttribute("tabindex")||document.body.setAttribute("tabindex",Y="0"),"function"==typeof this.prepare&&this.prepare(),s=this,1===u.length&&(L(a,"resize",Qe),L(document.body,"keyup",Le),L(document.body,"keydown",Ae),L(document.body,"focus",Se),L(document.documentElement,"mousemove",Xe),L(document.documentElement,"touchmove",Xe,!1,!1),L(document.documentElement,"mouseup",Ye),L(document.documentElement,"touchend",Ye),L(document.documentElement,"mousemove",Ke),L(document.documentElement,"touchmove",Ke,!1,!1),L(document.documentElement,"mouseup",Je),L(document.documentElement,"touchend",Je)),L(s.elements.commands.container,"click",s.__internal.commandsClickHandler),L(s.elements.footer,"click",s.__internal.buttonsClickHandler),L(s.elements.reset[0],"focusin",s.__internal.resetHandler),L(s.elements.reset[0],"keydown",We),L(s.elements.reset[1],"focusin",s.__internal.resetHandler),_=!0,L(s.elements.dialog,I.type,s.__internal.transitionInHandler),s.get("modal")||Ze(s),s.get("resizable")&&nt(s),s.get("movable")&&et(s),void 0!==e&&this.set("modal",e),X=B(),g=R(),W(),"string"==typeof t&&""!==t&&(this.__internal.className=t,f(this.elements.root,t)),this.get("startMaximized")?this.maximize():this.isMaximized()&&we(this),Ee(this),this.elements.root.removeAttribute("style"),m(this.elements.root,y.animationOut),f(this.elements.root,y.animationIn),clearTimeout(this.__internal.timerIn),this.__internal.timerIn=setTimeout(this.__internal.transitionInHandler,I.supported?1e3:100),G&&((i=this.elements.root).style.display="none",setTimeout(function(){i.style.display="block"},0)),this.elements.root.offsetWidth,m(this.elements.root,y.hidden),be(),"function"==typeof this.hooks.onshow&&this.hooks.onshow.call(this),r("onshow",this)),this},close:function(){return this.__internal.isOpen&&!1!==r("onclosing",this)&&(e=this,1===u.length&&(A(a,"resize",Qe),A(document.body,"keyup",Le),A(document.body,"keydown",Ae),A(document.body,"focus",Se),A(document.documentElement,"mousemove",Xe),A(document.documentElement,"mouseup",Ye),A(document.documentElement,"mousemove",Ke),A(document.documentElement,"mouseup",Je)),A(e.elements.commands.container,"click",e.__internal.commandsClickHandler),A(e.elements.footer,"click",e.__internal.buttonsClickHandler),A(e.elements.reset[0],"focusin",e.__internal.resetHandler),A(e.elements.reset[0],"keydown",We),A(e.elements.reset[1],"focusin",e.__internal.resetHandler),L(e.elements.dialog,I.type,e.__internal.transitionOutHandler),e.get("modal")||$e(e),e.get("movable")&&tt(e),e.get("resizable")&&it(e),m(this.elements.root,y.animationIn),f(this.elements.root,y.animationOut),clearTimeout(this.__internal.timerOut),this.__internal.timerOut=setTimeout(this.__internal.transitionOutHandler,I.supported?1e3:100),f(this.elements.root,y.hidden),this.elements.modal.offsetWidth,P.defaults.maintainFocus&&this.__internal.activeElement&&(this.__internal.activeElement.focus(),this.__internal.activeElement=null),void 0!==this.__internal.className&&""!==this.__internal.className&&m(this.elements.root,this.__internal.className),"function"==typeof this.hooks.onclose&&this.hooks.onclose.call(this),r("onclose",this),u.splice(u.indexOf(this),1),this.__internal.isOpen=!1,W()),u.length||"0"!==Y||document.body.removeAttribute("tabindex"),this;var e},closeOthers:function(){return P.closeAll(this),this},destroy:function(){return this.__internal&&(this.__internal.isOpen?(this.__internal.destroy=function(){t(this,pe)},this.close()):this.__internal.destroy||t(this,pe)),this}}),S=(d=[],b=l.notifier.classes,i=b.base,{setting:function(e,t){if(ue(this),void 0===t)return this.__internal[e];switch(e){case"position":this.__internal.position=t,fe(this);break;case"delay":this.__internal.delay=t}return this},set:function(e,t){return this.setting(e,t),this},get:function(e){return this.setting(e)},create:function(e,t){ue(this);var n=document.createElement("div");return n.className=b.message+("string"==typeof e&&""!==e?" "+b.prefix+e:""),he(n,t)},dismissAll:function(e){for(var t=d.slice(0),n=0;n<t.length;n+=1){var i=t[n];void 0!==e&&e===i||i.dismiss()}}}),P=new function(){function c(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function d(e){e=m[e].dialog;return e&&"function"==typeof e.__init&&e.__init(e),e}var m={};return{defaults:l,dialog:function(e,t,n,i){if("function"!=typeof t)return d(e);if(this.hasOwnProperty(e))throw new Error("alertify.dialog: name already exists");s=e,a=n,t={dialog:null,factory:o=t},void 0!==(l=i)&&(t.factory=function(){return c(new m[l].factory,new o)}),a||(t.dialog=c(new t.factory,me));var s,o,a,l,r=m[s]=t;this[e]=n?function(){var e;return 0===arguments.length?r.dialog:((e=c(new r.factory,me))&&"function"==typeof e.__init&&e.__init(e),e.main.apply(e,arguments),e.show.apply(e))}:function(){var e;return r.dialog&&"function"==typeof r.dialog.__init&&r.dialog.__init(r.dialog),0===arguments.length?r.dialog:((e=r.dialog).main.apply(r.dialog,arguments),e.show.apply(r.dialog))}},closeAll:function(e){for(var t=u.slice(0),n=0;n<t.length;n+=1){var i=t[n];void 0!==e&&e===i||i.close()}},setting:function(e,t,n){return"notifier"===e?S.setting(t,n):(e=d(e))?e.setting(t,n):void 0},set:function(e,t,n){return this.setting(e,t,n)},get:function(e,t){return this.setting(e,t)},notify:function(e,t,n,i){return S.create(t,i).push(e,n)},message:function(e,t,n){return S.create(null,n).push(e,t)},success:function(e,t,n){return S.create("success",n).push(e,t)},error:function(e,t,n){return S.create("error",n).push(e,t)},warning:function(e,t,n){return S.create("warning",n).push(e,t)},dismissAll:function(){S.dismissAll()}}};function ue(e){e.__internal||(e.__internal={position:P.defaults.notifier.position,delay:P.defaults.notifier.delay},c=document.createElement("DIV"),("transitionOff"in l.notifier?l.notifier:l).transitionOff&&(i=b.base+" ajs-no-transition"),fe(e)),c.parentNode!==document.body&&document.body.appendChild(c)}function fe(e){switch(c.className=i,e.__internal.position){case"top-right":f(c,b.top+" "+b.right);break;case"top-left":f(c,b.top+" "+b.left);break;case"top-center":f(c,b.top+" "+b.center);break;case"bottom-left":f(c,b.bottom+" "+b.left);break;case"bottom-center":f(c,b.bottom+" "+b.center);break;default:f(c,b.bottom+" "+b.right)}}function he(e,t){function n(e,t){t.__internal.closeButton&&"true"!==e.target.getAttribute("data-close")||t.dismiss(!0)}function i(e,t){A(t.element,I.type,i),c.removeChild(t.element)}function o(e){clearTimeout(e.__internal.timer),clearTimeout(e.__internal.transitionTimeout)}return(e={element:e,push:function(e,t){var n,i,s;if(this.__internal.pushed)return this;switch((n=this).__internal.pushed=!0,d.push(n),o(this),arguments.length){case 0:s=this.__internal.delay;break;case 1:s="number"==typeof e?e:(i=e,this.__internal.delay);break;case 2:i=e,s=t}return this.__internal.closeButton=P.defaults.notifier.closeButton,void 0!==i&&this.setContent(i),S.__internal.position.indexOf("top")<0?c.appendChild(this.element):c.insertBefore(this.element,c.firstChild),this.element.offsetWidth,f(this.element,b.visible),L(this.element,"click",this.__internal.clickHandler),this.delay(s)},ondismiss:function(){},callback:t,dismiss:function(e){return this.__internal.pushed&&(o(this),"function"==typeof this.ondismiss&&!1===this.ondismiss.call(this)||(A(this.element,"click",this.__internal.clickHandler),void 0!==this.element&&this.element.parentNode===c&&(this.__internal.transitionTimeout=setTimeout(this.__internal.transitionEndHandler,I.supported?1e3:100),m(this.element,b.visible),"function"==typeof this.callback)&&this.callback.call(this,e),e=this,d.splice(d.indexOf(e),1),e.__internal.pushed=!1)),this},delay:function(e){var t;return o(this),this.__internal.delay=void 0===e||isNaN(+e)?S.__internal.delay:+e,0<this.__internal.delay&&((t=this).__internal.timer=setTimeout(function(){t.dismiss()},1e3*this.__internal.delay)),this},setContent:function(e){return"string"==typeof e?(s(this.element),this.element.innerHTML=e):e instanceof a.HTMLElement&&this.element.firstChild!==e&&(s(this.element),this.element.appendChild(e)),this.__internal.closeButton&&(f(e=document.createElement("span"),b.close),e.setAttribute("data-close",!0),this.element.appendChild(e)),this},dismissOthers:function(){return S.dismissAll(this),this}}).__internal||(e.__internal={pushed:!1,delay:void 0,timer:void 0,clickHandler:void 0,transitionEndHandler:void 0,transitionTimeout:void 0},e.__internal.clickHandler=p(e,n),e.__internal.transitionEndHandler=p(e,i)),e}function pe(e){if(!e.__internal){P.defaults.hooks.preinit(e),delete e.__init,e.__settings||(e.__settings=h(e.settings)),"function"==typeof e.setup?((t=e.setup()).options=t.options||{},t.focus=t.focus||{}):t={buttons:[],focus:{element:null,select:!1},options:{}},"object"!=typeof e.hooks&&(e.hooks={});var t,n=[];if(Array.isArray(t.buttons))for(var i=0;i<t.buttons.length;i+=1){var s,o=t.buttons[i],a={};for(s in o)o.hasOwnProperty(s)&&(a[s]=o[s]);n.push(a)}var l=e.__internal={isOpen:!1,activeElement:document.body,timerIn:void 0,timerOut:void 0,buttons:n,focus:t.focus,options:{title:void 0,modal:void 0,basic:void 0,frameless:void 0,defaultFocusOff:void 0,pinned:void 0,movable:void 0,moveBounded:void 0,resizable:void 0,autoReset:void 0,closable:void 0,closableByDimmer:void 0,invokeOnCloseOff:void 0,maximizable:void 0,startMaximized:void 0,pinnable:void 0,transition:void 0,transitionOff:void 0,padding:void 0,overflow:void 0,onshow:void 0,onclosing:void 0,onclose:void 0,onfocus:void 0,onmove:void 0,onmoved:void 0,onresize:void 0,onresized:void 0,onmaximize:void 0,onmaximized:void 0,onrestore:void 0,onrestored:void 0},resetHandler:void 0,beginMoveHandler:void 0,beginResizeHandler:void 0,bringToFrontHandler:void 0,modalClickHandler:void 0,buttonsClickHandler:void 0,commandsClickHandler:void 0,transitionInHandler:void 0,transitionOutHandler:void 0,destroy:void 0},r={};r.root=document.createElement("div"),r.root.style.display="none",r.root.className=y.base+" "+y.hidden+" ",r.root.innerHTML=q+K,r.dimmer=r.root.firstChild,r.modal=r.root.lastChild,r.modal.innerHTML=J,r.dialog=r.modal.firstChild,r.dialog.innerHTML=V+Q+Z+$+te+se+V,r.reset=[],r.reset.push(r.dialog.firstChild),r.reset.push(r.dialog.lastChild),r.commands={},r.commands.container=r.reset[0].nextSibling,r.commands.pin=r.commands.container.firstChild,r.commands.maximize=r.commands.pin.nextSibling,r.commands.close=r.commands.maximize.nextSibling,r.header=r.commands.container.nextSibling,r.body=r.header.nextSibling,r.body.innerHTML=ee,r.content=r.body.firstChild,r.footer=r.body.nextSibling,r.footer.innerHTML=ne.auxiliary+ne.primary,r.resizeHandle=r.footer.nextSibling,r.buttons={},r.buttons.auxiliary=r.footer.firstChild,r.buttons.primary=r.buttons.auxiliary.nextSibling,r.buttons.primary.innerHTML=ie,r.buttonTemplate=r.buttons.primary.firstChild,r.buttons.primary.removeChild(r.buttonTemplate);for(var c,d=0;d<e.__internal.buttons.length;d+=1){var m,u=e.__internal.buttons[d];for(m in v.indexOf(u.key)<0&&v.push(u.key),u.element=r.buttonTemplate.cloneNode(),u.element.innerHTML=u.text,"string"==typeof u.className&&""!==u.className&&f(u.element,u.className),u.attrs)"className"!==m&&u.attrs.hasOwnProperty(m)&&u.element.setAttribute(m,u.attrs[m]);("auxiliary"===u.scope?r.buttons.auxiliary:r.buttons.primary).appendChild(u.element)}for(c in e.elements=r,l.resetHandler=p(e,Se),l.beginMoveHandler=p(e,Ue),l.beginResizeHandler=p(e,qe),l.bringToFrontHandler=p(e,ve),l.modalClickHandler=p(e,je),l.buttonsClickHandler=p(e,Ne),l.commandsClickHandler=p(e,xe),l.transitionInHandler=p(e,Fe),l.transitionOutHandler=p(e,Re),l.options)void 0!==t.options[c]?e.set(c,t.options[c]):P.defaults.hasOwnProperty(c)?e.set(c,P.defaults[c]):"title"===c&&e.set(c,P.defaults.glossary[c]);"function"==typeof e.build&&e.build(),P.defaults.hooks.postinit(e)}document.body.appendChild(e.elements.root)}function be(){a.scrollTo(X,g)}function W(){for(var e=0,t=0;t<u.length;t+=1){var n=u[t];(n.isModal()||n.isMaximized())&&(e+=1)}0===e&&0<=document.body.className.indexOf(y.noOverflow)?(m(document.body,y.noOverflow),ge(!1)):0<e&&document.body.className.indexOf(y.noOverflow)<0&&(ge(!0),f(document.body,y.noOverflow))}function ge(e){P.defaults.preventBodyShift&&(e&&document.documentElement.scrollHeight>document.documentElement.clientHeight?(ae=g,oe=a.getComputedStyle(document.body).top,f(document.body,y.fixed),document.body.style.top=-g+"px"):e||(g=ae,document.body.style.top=oe,m(document.body,y.fixed),be()))}function ve(e,t){for(var n=u.indexOf(t)+1;n<u.length;n+=1)if(u[n].isModal())return;return document.body.lastChild!==t.elements.root&&(document.body.appendChild(t.elements.root),u.splice(u.indexOf(t),1),u.push(t),Ie(t)),!1}function ye(e,t,n,i){switch(t){case"title":e.setHeader(i);break;case"modal":(d=e).get("modal")?(m(d.elements.root,y.modeless),d.isOpen()&&($e(d),Ee(d),W())):(f(d.elements.root,y.modeless),d.isOpen()&&(Ze(d),Ee(d),W()));break;case"basic":((d=e).get("basic")?f:m)(d.elements.root,y.basic);break;case"frameless":((c=e).get("frameless")?f:m)(c.elements.root,y.frameless);break;case"pinned":(c=e).get("pinned")?(m(c.elements.root,y.unpinned),c.isOpen()&&ze(c)):(f(c.elements.root,y.unpinned),c.isOpen()&&!c.isModal()&&Ce(c));break;case"closable":((r=e).get("closable")?(f(r.elements.root,y.closable),function(e){L(e.elements.modal,"click",e.__internal.modalClickHandler)}):(m(r.elements.root,y.closable),function(e){A(e.elements.modal,"click",e.__internal.modalClickHandler)}))(r);break;case"maximizable":((r=e).get("maximizable")?f:m)(r.elements.root,y.maximizable);break;case"pinnable":((l=e).get("pinnable")?f:m)(l.elements.root,y.pinnable);break;case"movable":(l=e).get("movable")?(f(l.elements.root,y.movable),l.isOpen()&&et(l)):(Ge(l),m(l.elements.root,y.movable),l.isOpen()&&tt(l));break;case"resizable":(a=e).get("resizable")?(f(a.elements.root,y.resizable),a.isOpen()&&nt(a)):(Ve(a),m(a.elements.root,y.resizable),a.isOpen()&&it(a));break;case"padding":i?m(e.elements.root,y.noPadding):e.elements.root.className.indexOf(y.noPadding)<0&&f(e.elements.root,y.noPadding);break;case"overflow":i?m(e.elements.root,y.noOverflow):e.elements.root.className.indexOf(y.noOverflow)<0&&f(e.elements.root,y.noOverflow);break;case"transition":a=e,s=i,"string"==typeof(o=n)&&m(a.elements.root,y.prefix+o),f(a.elements.root,y.prefix+s),a.elements.root.offsetWidth;break;case"transitionOff":((o=e).get("transitionOff")?f:m)(o.elements.root,y.noTransition)}var s,o,a,l,r,c,d;"function"==typeof e.hooks.onupdate&&e.hooks.onupdate.call(e,t,n,i)}function _e(e,t,n,i,s){var o,a={op:void 0,items:[]};if(void 0===s&&"string"==typeof i)a.op="get",t.hasOwnProperty(i)?(a.found=!0,a.value=t[i]):(a.found=!1,a.value=void 0);else if(a.op="set","object"==typeof i){var l,r=i;for(l in r)t.hasOwnProperty(l)?(t[l]!==r[l]&&(o=t[l],t[l]=r[l],n.call(e,l,o,r[l])),a.items.push({key:l,value:r[l],found:!0})):a.items.push({key:l,value:r[l],found:!1})}else{if("string"!=typeof i)throw new Error("args must be a string or object");t.hasOwnProperty(i)?(t[i]!==s&&(o=t[i],t[i]=s,n.call(e,i,o,s)),a.items.push({key:i,value:s,found:!0})):a.items.push({key:i,value:s,found:!1})}return a}function ke(t){var n;Me(t,function(e){return n=!0!==t.get("invokeOnCloseOff")&&!0===e.invokeOnClose}),!n&&t.isOpen()&&t.close()}function xe(e,t){switch(e.srcElement||e.target){case t.elements.commands.pin:(t.isPinned()?Oe:He)(t);break;case t.elements.commands.maximize:(t.isMaximized()?we:Te)(t);break;case t.elements.commands.close:ke(t)}return!1}function He(e){e.set("pinned",!0)}function Oe(e){e.set("pinned",!1)}function Te(e){r("onmaximize",e),f(e.elements.root,y.maximized),e.isOpen()&&W(),r("onmaximized",e)}function we(e){r("onrestore",e),m(e.elements.root,y.maximized),e.isOpen()&&W(),r("onrestored",e)}function Ce(e){var t=B();e.elements.modal.style.marginTop=R()+"px",e.elements.modal.style.marginLeft=t+"px",e.elements.modal.style.marginRight=-t+"px"}function ze(e){var t,n,i=parseInt(e.elements.modal.style.marginTop,10),s=parseInt(e.elements.modal.style.marginLeft,10);e.elements.modal.style.marginTop="",e.elements.modal.style.marginLeft="",e.elements.modal.style.marginRight="",e.isOpen()&&(n=t=0,""!==e.elements.dialog.style.top&&(t=parseInt(e.elements.dialog.style.top,10)),e.elements.dialog.style.top=t+(i-R())+"px",""!==e.elements.dialog.style.left&&(n=parseInt(e.elements.dialog.style.left,10)),e.elements.dialog.style.left=n+(s-B())+"px")}function Ee(e){(e.get("modal")||e.get("pinned")?ze:Ce)(e)}function je(e,t){200<e.timeStamp-re&&(re=e.timeStamp)&&!le&&(e=e.srcElement||e.target,!0===t.get("closableByDimmer"))&&e===t.elements.modal&&ke(t),le=!1}function Me(e,t){if(200<Date.now()-ce&&(ce=Date.now()))for(var n=0;n<e.__internal.buttons.length;n+=1){var i=e.__internal.buttons[n];if(!i.element.disabled&&t(i)){i=D(n,i);"function"==typeof e.callback&&e.callback.apply(e,[i]),!1===i.cancel&&e.close();break}}}function Ne(e,t){var n=e.srcElement||e.target;Me(t,function(e){return e.element===n&&(_=!0)})}function Le(e){var t,n;if(!_)return t=u[u.length-1],n=e.keyCode,0===t.__internal.buttons.length&&n===o.ESC&&!0===t.get("closable")?(ke(t),!1):-1<v.indexOf(n)?(Me(t,function(e){return e.key===n}),!1):void 0;_=!1}function Ae(e){var t=u[u.length-1],n=e.keyCode;if(n===o.LEFT||n===o.RIGHT){for(var i=t.__internal.buttons,s=0;s<i.length;s+=1)if(document.activeElement===i[s].element)switch(n){case o.LEFT:return void i[(s||i.length)-1].element.focus();case o.RIGHT:return void i[(s+1)%i.length].element.focus()}}else if(n<o.F12+1&&n>o.F1-1&&-1<v.indexOf(n))return e.preventDefault(),e.stopPropagation(),Me(t,function(e){return e.key===n}),!1}function Ie(e,t){if(t)t.focus();else{var n=e.__internal.focus,i=n.element;switch(typeof n.element){case"number":e.__internal.buttons.length>n.element&&(i=!0===e.get("basic")?e.elements.reset[0]:e.__internal.buttons[n.element].element);break;case"string":i=e.elements.body.querySelector(n.element);break;case"function":i=n.element.call(e)}(i=!0===e.get("defaultFocusOff")||null==i&&0===e.__internal.buttons.length?e.elements.reset[0]:i)&&i.focus&&(i.focus(),n.select)&&i.select&&i.select()}}function Se(e,t){if(!t)for(var n=u.length-1;-1<n;--n)if(u[n].isModal()){t=u[n];break}var i,s,o,a,l;t&&t.isModal()&&(s=t.elements.reset[0],o=t.elements.reset[1],a=e.relatedTarget,l=t.elements.root.contains(a),(e=e.srcElement||e.target)===s&&!l||e===o&&a===s||(e===o||e===document.body?i=s:e===s&&a===o?i=Pe(t):e===s&&l&&(i=Pe(t,!0)),Ie(t,i)))}function Pe(e,t){var n=[].slice.call(e.elements.dialog.querySelectorAll(l.tabbable));t&&n.reverse();for(var i=0;i<n.length;i+=1){var s=n[i];if(s.offsetParent||s.offsetWidth||s.offsetHeight||s.getClientRects().length)return s}}function We(e){var t=u[u.length-1];t&&e.shiftKey&&e.keyCode===o.TAB&&t.elements.reset[1].focus()}function Fe(e,t){clearTimeout(t.__internal.timerIn),Ie(t),_=!1,r("onfocus",t),A(t.elements.dialog,I.type,t.__internal.transitionInHandler),m(t.elements.root,y.animationIn)}function Re(e,t){clearTimeout(t.__internal.timerOut),A(t.elements.dialog,I.type,t.__internal.transitionOutHandler),Ge(t),Ve(t),t.isMaximized()&&!t.get("startMaximized")&&we(t),"function"==typeof t.__internal.destroy&&t.__internal.destroy.apply(t)}function Be(e,t){var n=e[H]-de,e=e[O]-x;w&&(e-=document.body.scrollTop),t.style.left=n+"px",t.style.top=e+"px"}function De(e,t){var n=e[H]-de,e=e[O]-x;w&&(e-=document.body.scrollTop),t.style.left=Math.min(T.maxLeft,Math.max(T.minLeft,n))+"px",t.style.top=w?Math.min(T.maxTop,Math.max(T.minTop,e))+"px":Math.max(T.minTop,e)+"px"}function Ue(e,t){if(null===z&&!t.isMaximized()&&t.get("movable")){var n,i=0,s=0;if("touchstart"===e.type?(e.preventDefault(),n=e.targetTouches[0],H="clientX",O="clientY"):0===e.button&&(n=e),n){e=t.elements.dialog;if(f(e,y.capture),e.style.left&&(i=parseInt(e.style.left,10)),e.style.top&&(s=parseInt(e.style.top,10)),de=n[H]-i,x=n[O]-s,t.isModal()?x+=t.elements.modal.scrollTop:t.isPinned()&&(x-=document.body.scrollTop),t.get("moveBounded")){for(var o=e,a=-i,l=-s;a+=o.offsetLeft,l+=o.offsetTop,o=o.offsetParent;);T={maxLeft:a,minLeft:-a,maxTop:document.documentElement.clientHeight-e.clientHeight-l,minTop:-l},C=De}else T=null,C=Be;return r("onmove",t),w=!t.isModal()&&t.isPinned(),k=t,C(n,e),f(document.body,y.noSelection),!1}}}function Xe(e){var t;k&&("touchmove"===e.type?(e.preventDefault(),t=e.targetTouches[0]):0===e.button&&(t=e),t)&&C(t,k.elements.dialog)}function Ye(){var e;k&&(e=k,k=T=null,m(document.body,y.noSelection),m(e.elements.dialog,y.capture),r("onmoved",e))}function Ge(e){k=null;e=e.elements.dialog;e.style.left=e.style.top=""}function qe(e,t){var n;if(!t.isMaximized()&&("touchstart"===e.type?(e.preventDefault(),n=e.targetTouches[0]):0===e.button&&(n=e),n))return r("onresize",t),N=(z=t).elements.resizeHandle.offsetHeight/2,f(e=t.elements.dialog,y.capture),E=parseInt(e.style.left,10),e.style.height=e.offsetHeight+"px",e.style.minHeight=t.elements.header.offsetHeight+t.elements.footer.offsetHeight+"px",e.style.width=(j=e.offsetWidth)+"px","none"!==e.style.maxWidth&&(e.style.minWidth=(M=e.offsetWidth)+"px"),e.style.maxWidth="none",f(document.body,y.noSelection),!1}function Ke(e){if(z&&("touchmove"===e.type?(e.preventDefault(),n=e.targetTouches[0]):0===e.button&&(n=e),n)){for(var t,e=n,n=z.elements.dialog,i=!z.get("modal")&&!z.get("pinned"),s=n,o=0,a=0;o+=s.offsetLeft,a+=s.offsetTop,s=s.offsetParent;);var i=!0===i?(t=e.pageX,e.pageY):(t=e.clientX,e.clientY);(e=F())&&(t=document.body.offsetWidth-t,isNaN(E)||(o=document.body.offsetWidth-o-n.offsetWidth)),n.style.height=i-a+N+"px",n.style.width=t-o+N+"px",isNaN(E)||(i=.5*Math.abs(n.offsetWidth-j),e&&(i*=-1),n.offsetWidth>j?n.style.left=E+i+"px":n.offsetWidth>=M&&(n.style.left=E-i+"px"))}}function Je(){var e;z&&(e=z,z=null,m(document.body,y.noSelection),m(e.elements.dialog,y.capture),le=!0,r("onresized",e))}function Ve(e){z=null;e=e.elements.dialog;"none"===e.style.maxWidth&&(e.style.maxWidth=e.style.minWidth=e.style.width=e.style.height=e.style.minHeight=e.style.left="",E=Number.Nan,j=M=N=0)}function Qe(){for(var e=0;e<u.length;e+=1){var t=u[e];t.get("autoReset")&&(Ge(t),Ve(t))}}function Ze(e){L(e.elements.dialog,"focus",e.__internal.bringToFrontHandler,!0)}function $e(e){A(e.elements.dialog,"focus",e.__internal.bringToFrontHandler,!0)}function et(e){L(e.elements.header,"mousedown",e.__internal.beginMoveHandler),L(e.elements.header,"touchstart",e.__internal.beginMoveHandler,!1,!1)}function tt(e){A(e.elements.header,"mousedown",e.__internal.beginMoveHandler),A(e.elements.header,"touchstart",e.__internal.beginMoveHandler,!1,!1)}function nt(e){L(e.elements.resizeHandle,"mousedown",e.__internal.beginResizeHandler),L(e.elements.resizeHandle,"touchstart",e.__internal.beginResizeHandler,!1,!1)}function it(e){A(e.elements.resizeHandle,"mousedown",e.__internal.beginResizeHandler),A(e.elements.resizeHandle,"touchstart",e.__internal.beginResizeHandler,!1,!1)}P.dialog("alert",function(){return{main:function(e,t,n){var i,s,o;switch(arguments.length){case 1:s=e;break;case 2:"function"==typeof t?(s=e,o=t):(i=e,s=t);break;case 3:i=e,s=t,o=n}return this.set("title",i),this.set("message",s),this.set("onok",o),this},setup:function(){return{buttons:[{text:P.defaults.glossary.ok,key:o.ESC,invokeOnClose:!0,className:P.defaults.theme.ok}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(e){this.setContent(e)},settings:{message:void 0,onok:void 0,label:void 0},settingUpdated:function(e,t,n){switch(e){case"message":this.setMessage(n);break;case"label":this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=n)}},callback:function(e){var t;"function"==typeof this.get("onok")&&void 0!==(t=this.get("onok").call(this,e))&&(e.cancel=!t)}}}),P.dialog("confirm",function(){function i(e){null!==s.timer&&(clearInterval(s.timer),s.timer=null,e.__internal.buttons[s.index].element.innerHTML=s.text)}function t(e,t,n){i(e),s.duration=n,s.index=t,s.text=e.__internal.buttons[t].element.innerHTML,s.timer=setInterval(p(e,s.task),1e3),s.task(null,e)}var s={timer:null,index:null,text:null,duration:null,task:function(e,t){var n;t.isOpen()?(t.__internal.buttons[s.index].element.innerHTML=s.text+" (&#8207;"+s.duration+"&#8207;) ",--s.duration,-1===s.duration&&(i(t),n=t.__internal.buttons[s.index],n=D(s.index,n),"function"==typeof t.callback&&t.callback.apply(t,[n]),!1!==n.close)&&t.close()):i(t)}};return{main:function(e,t,n,i){var s,o,a,l;switch(arguments.length){case 1:o=e;break;case 2:o=e,a=t;break;case 3:o=e,a=t,l=n;break;case 4:s=e,o=t,a=n,l=i}return this.set("title",s),this.set("message",o),this.set("onok",a),this.set("oncancel",l),this},setup:function(){return{buttons:[{text:P.defaults.glossary.ok,key:o.ENTER,className:P.defaults.theme.ok},{text:P.defaults.glossary.cancel,key:o.ESC,invokeOnClose:!0,className:P.defaults.theme.cancel}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(e){this.setContent(e)},settings:{message:null,labels:null,onok:null,oncancel:null,defaultFocus:null,reverseButtons:null},settingUpdated:function(e,t,n){switch(e){case"message":this.setMessage(n);break;case"labels":"ok"in n&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].text=n.ok,this.__internal.buttons[0].element.innerHTML=n.ok),"cancel"in n&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].text=n.cancel,this.__internal.buttons[1].element.innerHTML=n.cancel);break;case"reverseButtons":!0===n?this.elements.buttons.primary.appendChild(this.__internal.buttons[0].element):this.elements.buttons.primary.appendChild(this.__internal.buttons[1].element);break;case"defaultFocus":this.__internal.focus.element="ok"===n?0:1}},callback:function(e){var t;switch(i(this),e.index){case 0:"function"==typeof this.get("onok")&&void 0!==(t=this.get("onok").call(this,e))&&(e.cancel=!t);break;case 1:"function"==typeof this.get("oncancel")&&void 0!==(t=this.get("oncancel").call(this,e))&&(e.cancel=!t)}},autoOk:function(e){return t(this,0,e),this},autoCancel:function(e){return t(this,1,e),this}}}),P.dialog("prompt",function(){var i=document.createElement("INPUT"),t=document.createElement("P");return{main:function(e,t,n,i,s){var o,a,l,r,c;switch(arguments.length){case 1:a=e;break;case 2:a=e,l=t;break;case 3:a=e,l=t,r=n;break;case 4:a=e,l=t,r=n,c=i;break;case 5:o=e,a=t,l=n,r=i,c=s}return this.set("title",o),this.set("message",a),this.set("value",l),this.set("onok",r),this.set("oncancel",c),this},setup:function(){return{buttons:[{text:P.defaults.glossary.ok,key:o.ENTER,className:P.defaults.theme.ok},{text:P.defaults.glossary.cancel,key:o.ESC,invokeOnClose:!0,className:P.defaults.theme.cancel}],focus:{element:i,select:!0},options:{maximizable:!1,resizable:!1}}},build:function(){i.className=P.defaults.theme.input,i.setAttribute("type","text"),i.value=this.get("value"),this.elements.content.appendChild(t),this.elements.content.appendChild(i)},prepare:function(){},setMessage:function(e){"string"==typeof e?(s(t),t.innerHTML=e):e instanceof a.HTMLElement&&t.firstChild!==e&&(s(t),t.appendChild(e))},settings:{message:void 0,labels:void 0,onok:void 0,oncancel:void 0,value:"",type:"text",reverseButtons:void 0},settingUpdated:function(e,t,n){switch(e){case"message":this.setMessage(n);break;case"value":i.value=n;break;case"type":switch(n){case"text":case"color":case"date":case"datetime-local":case"email":case"month":case"number":case"password":case"search":case"tel":case"time":case"week":i.type=n;break;default:i.type="text"}break;case"labels":n.ok&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=n.ok),n.cancel&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].element.innerHTML=n.cancel);break;case"reverseButtons":!0===n?this.elements.buttons.primary.appendChild(this.__internal.buttons[0].element):this.elements.buttons.primary.appendChild(this.__internal.buttons[1].element)}},callback:function(e){var t;switch(e.index){case 0:this.settings.value=i.value,"function"==typeof this.get("onok")&&void 0!==(t=this.get("onok").call(this,e,this.settings.value))&&(e.cancel=!t);break;case 1:"function"==typeof this.get("oncancel")&&void 0!==(t=this.get("oncancel").call(this,e))&&(e.cancel=!t),e.cancel||(i.value=this.settings.value)}}}}),"object"==typeof module&&"object"==typeof module.exports?module.exports=P:"function"==typeof define&&define.amd?define([],function(){return P}):a.alertify||(a.alertify=P)}("undefined"!=typeof window?window:this);